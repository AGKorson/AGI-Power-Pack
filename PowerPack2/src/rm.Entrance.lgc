[ ********************************************************************[ [ rm.Entrance[ [ An example room with several exits.[[ ********************************************************************[ **************************************[ FIRST CYCLE ONLY[ **************************************if (newRoom)   {    [ load, draw and discard the picture resource for the current room  load.pic(currentRoom);  draw.pic(currentRoom);  discard.pic(currentRoom);    [ do basic room initialization  call(lgc.RoomInit);[  set(enableTrace);[  trace.on();    [ add room-specific initialization here    [ default horizion is 36; adjust it as needed  set.horizon(120);      [ set ego parameters, if different from lgc.RoomInit    [ AGI will automatically position ego on the opposite  [ edge when entering a new room, but if you want to manually  [ position ego, do that here, before drawing ego    [ The next 6 lines need only be in the first room of the game   [ if coming from intro screen or restarting game  if ((previousRoom == rm.Title || previousRoom == 0)) {    position(ego, 74, 150);[    get.posn(ego, v254, v255);[    print("ego starts at (%v254, %v255)");    [ turn status line on for this room[    status.line.on(); [    get.posn(ego, v254, v255);[    print("ego still at (%v254, %v255)");  }    [ add ego to the room  draw(ego);    [ test object   animate.obj(o10);  set.view(o10, 0);  position(o10, 30, 140);  draw(o10);  move.obj(o10, 30, 0, 1, f221);    [ use new autocycle feature on ego and test object  if (IntVersion == VERSION_2089) {    [ for old versions, different cmd needed    init.joy();    set.cel(o10, 1);  }  else {    set.upper.left(10, 1);  }    [ display the picture on screen  show.pic();    [ check for fading  if (newRoomFade) {    [ fade in    block(FADE.IN, 0, 12, 0);  }  [  clear.text.rect(7, 12, 10, 27, GREEN);[  set.text.attribute(YELLOW, BLUE);[  display(7, 12, "X");[  display(10, 27, "X");[  set.text.attribute(BROWN, YELLOW);[  display(6,0,"123451");[  set.text.attribute(RED, BLACK);[  display(7,0,"123451");[  set(f15);[  print.at("12345",5,5,6);[  print("v21: %v21");[  print("and v21: %v21");  [  display(5,5,"123451");[  set.text.attribute(WHITE, BLACK);  [ commands used by set.string mod need to be re-checked;  [ 2.089:         status.line.off   [ 2.272 - 2.440: unblock  [ 2.903 - 2.936: stop sound[  status.line.off();  if (currentScore == 0)     {    block(70, 130, 90, 160);    }  load.sound(1);  sound(1, f250);  stop.sound();    if(!f250) {    print("sound did not stop :( ");  }}[ **************************************[ EVERY CYCLE[ **************************************[set.text.attribute(-1, 0);[set.text.attribute(BROWN, BLACK);[display(24, 20, "ego dir: %v6");[set.text.attribute(0, -1);[ **************************************[ CHECK FOR AN EXIT CONDITION[ **************************************if (edgeEgoHit == BOTTOM_EDGE) {  [ check for fading  if (newRoomFade) {    [ fade out    block(FADE.OUT, 0, 12, 0);  }  [ move to room below  new.room(rm.Outside);  [ ##LE003##}if (edgeEgoHit == LEFT_EDGE) {  [ check for fading  if (newRoomFade) {    [ fade out    block(FADE.OUT, 0, 12, 0);  }  [ move to room on the left  new.room(rm.WestRoom); [ ##LE004##}if (edgeEgoHit == RIGHT_EDGE) {  [ check for fading  if (newRoomFade) {    [ fade out    block(FADE.OUT, 0, 12, 0);  }  [ move to room on the right  new.room(rm.EastRoom);  [ ##LE002##}if (edgeEgoHit == TOP_EDGE) {  [ check for fading  if (newRoomFade) {    [ fade out    block(FADE.OUT, 0, 12, 0);  }  [ move to room above  new.room(rm.NorthRoom);  [ ##LE001##}[ **************************************[ PROCESS PLAYER INPUT[ **************************************[ if player hasn't provided input or if match already found, no need[ to do said testsif ((!haveInput || haveMatch)) {  goto(done);}[ lookif (said("look")) {  print.at("This is an empty room.", 8, 55, 25);  clear.text.rect(7, 12, 10, 27, GREEN);  clear.lines(3, 6, RED);  display(24, 75, "testû");  display(23, 0, "ABC 123456789 abcdefghi 123456789 ABCDEFGHI 123456789 abcdefghi 123456789 ABCDEFGHI");  shake.screen(3);}:donereturn();[ **************************************[ MESSAGES[ **************************************#message 1 "This is an empty room."